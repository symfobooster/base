services:
  _defaults:
    autowire: true
    autoconfigure: true

  symfobooster.controller:
    class: Symfobooster\Base\Controller\SingleController
#    public: true
    arguments:
      $transformer: '@symfobooster.controller.transformer.json'

  symfobooster.controller.transformer.json:
    class: Symfobooster\Base\Response\JsonTransformer
    arguments:
      $serializer: '@serializer'
      $statuses:
        Symfobooster\Base\Output\Success: 200
        Symfobooster\Base\Output\Created: 204
        Symfobooster\Base\Output\Invalid: 400
        Symfobooster\Base\Output\NotFound: 405
        Symfobooster\Base\Output\Error: 500

  symfobooster.input.loader:
    class: Symfobooster\Base\Input\InputLoader
    arguments:
      $extractorFactory: '@symfobooster.input.extractorFactory'

  symfobooster.input.extractorFactory:
    class: Symfobooster\Base\Input\Extractor\ExtractorFactory
    arguments:
      $extractors:
        query: '@symfobooster.input.extractors.query'
        body: '@symfobooster.input.extractors.body'

  symfobooster.input.extractors.body:
    class: Symfobooster\Base\Input\Extractor\BodyExtractor

  symfobooster.input.extractors.query:
    class: Symfobooster\Base\Input\Extractor\QueryExtractor

  symfobooster.input.transformer.explode:
    class: Symfobooster\Base\Input\Transformer\ExplodeTransformer

  symfobooster.input.transformer.trim:
    class: Symfobooster\Base\Input\Transformer\TrimTransformer
